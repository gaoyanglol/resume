<!DOCTYPE html>
<html>
  <head>
    <title>My Resume</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://at.alicdn.com/t/font_632998_s1vrn8cc07eyu8fr.js"></script>
    <style type="text/css">
      .icon {
        width: 1em; height: 1em;
        vertical-align: -0.15em;
        fill: currentColor;
        overflow: hidden;
    }
    .loadingpage {
      display: none;
      position: fixed;
      width: 100%;
      height: 100%;
      background: #fff;
      z-index: 10;
      justify-content: center;
      align-items: center;
    }
    .loadingpage.active {
      display: flex
    }
    .loading {
      width: 100px;
      height: 100px;
      position: relative;
    }
    .loading::before, .loading::after {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      background: #000;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      border-radius: 50%;
      margin: auto;
      animation: ripple 1.5s linear infinite
    }
    .loading::after {
      animation-delay: .75s;
    }
    @keyframes ripple {
      0% {width: 0;height: 0;opacity:.4}
      100% {width: 70px;height: 70px;opacity: 0}
    }
    </style>
  </head>
  <body>
    <div id="loadingGif" class="loadingpage active">
      <div class="loading"></div>
    </div>
    <div class="header">
      <div id="topNavBar" class="topNavBarWrapper">
        <div class="topNavBar clearfix">
            <a class="logo" href="#" alt="logo">
              <span>RS</span>card
            </a>
            <nav>
              <ul class="clearfix">
                <li><a href="#siteAbout">关于</a></li>
                <li><a href="#siteSkills">技能</a></li>
                <li class="menuTrigger">
                  <a href="#sitePortfolio">作品</a>
                  <ul class="submenu">
                    <li><a href="#">作品112121</a></li>
                    <li><a href="#">作品2121</a></li>
                    <li><a href="#">作品312</a></li>
                  </ul>
                </li>
                <li class="menuTrigger">
                  <a href="#siteBlog">博客</a>
                  <ul class="submenu">
                    <li><a href="#">博客1</a></li>
                    <li><a href="#">博客2</a></li>
                    <li><a href="#">博客3</a></li>
                  </ul>
                </li>
                <li><a href="#">日历</a></li>
                <li><a href="#">联系方式</a></li>
                <li><a href="#">其他</a></li>
              </ul>
            </nav>
          </div>
      </div>
      <div class="banner"></div>
    </div>
    <main class="container">
      <div id="siteAbout" class="section about">
        <div class="section-box">
          <div class="profile clearfix">
            <div class="photo">
              <img src="./image/avatar.jpg" alt="头像">
            </div>
            <div class="info clearfix">          
              <div class="preword">
                <span class="welcome">HELLO</span>
              </div>
              <h1>方应杭</h1>
              <h2>前端开发工程师</h2>
              <hr>
              <dl>
                <dt>年龄</dt>
                <dd>18</dd>
                <dt>所在城市</dt>
                <dd>北京</dd>
                <dt>邮箱</dt>
                <dd>fangyinghang@foxmail.com</dd>
                <dt>手机</dt>
                <dd>13812345678</dd>
              </dl>
            </div>
          </div>
          <footer class="media">
            <ul>
              <li>
                <a href="#">
                  <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                  </svg>
                </a>
              </li>
              <li>
                <a href="#">
                  <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-7"></use>
                  </svg>
                </a>
              </li>
              <li>
                <a href="#">
                  <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-twitter"></use>
                  </svg>
                </a>
              </li>
            </ul>
          </footer>
        </div>
        <div class="profileText">
          <p>
            <a class="button" href="#">下载 PDF 简历</a>
          </p>
          <p>
            方应杭， 资深前端工程师，资深前端讲师，现在在 饥人谷 教前端课程。<br>
            技能：前端开发，Rails 开发，Node.js 开发
          </p>
        </div>
      </div>
      <div id="siteSkills" class="section skills">
        <h2 class="section-title">技能</h2>
        <div class="section-box">
          <div class="row clearfix">
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">HTML 5 & CSS 3</span>
                <div class="bar-line">
                  <span style="width: 40%"></span>
                </div> 
              </div>
            </div>
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">JavaScript</span>
                <div class="bar-line">
                  <span style="width: 20%"></span>
                </div> 
              </div>
            </div>
          </div>
          <div class="row clearfix">
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">jQuery</span>
                <div class="bar-line">
                  <span style="width: 20%"></span>
                </div> 
              </div>
            </div>
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">Vue.js</span>
                <div class="bar-line">
                  <span style="width: 10%"></span>
                </div> 
              </div>
            </div>
          </div>
          <div class="row clearfix">
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">React.js</span>
                <div class="bar-line">
                  <span style="width: 40%"></span>
                </div> 
              </div>
            </div>
            <div class="col">
              <div class="progress-bar">
                <span class="bar-title">Node.js</span>
                <div class="bar-line">
                  <span style="width: 60%"></span>
                </div> 
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="sitePortfolio" class="section portfolio">
        <h2 class="section-title">作品集</h2>
        <div class="section-box-transparent">
          <div class="filter">
            <div class="filter-inner">
              <div class="filter-btn-group">
                <button onclick="changeTab(1)">全部</button>
                <button onclick="changeTab(2)">框架</button>
                <button onclick="changeTab(3)">原生JS&CSS</button>
              </div>
              <div class="filter-bar">
                <span id="filter-line" style="width: 30px; left: 0"></span>
              </div>
            </div>
          </div>
          <div class="pf-grid clearfix">
            <div class="pf-grid-item size2">
              <div class="pf-item-bg" style="background: url(./image/pf_01.jpg) no-repeat"></div>
            </div>
            <div class="pf-grid-item size1">
              <div class="pf-item-bg" style="background: url(./image/pf_02.jpg) no-repeat"></div>
            </div>
            <div class="pf-grid-item size1">
              <div class="pf-item-bg" style="background: url(./image/pf_03.jpg) no-repeat"></div>
            </div>
          </div>
        </div>
      </div>

    </main>
    <script>
      var line = document.getElementById("filter-line");
      function changeTab(status) {
        if (status == 1) {
          line.style = "width: 30px; left: 0"
        } else if (status == 2) {
          line.style = "width: 30px; left: 75px"
        } else if (status == 3) {
          line.style = "width: 78px; left: 150px"
        }
      }
    </script>
    <script>
      setTimeout(function(){
        loadingGif.classList.remove('active')
      }, 1000)

      window.onscroll = function() {
          if (window.scrollY) {
          topNavBar.classList.add('sticky')
        } else {
          topNavBar.classList.remove('sticky')
        }
      }
      
      let liTags = document.getElementsByClassName('menuTrigger')
      for (let i = 0; i < liTags.length; i++) {
        liTags[i].onmouseenter = function(e) {
          let li = e.currentTarget
          let b = li.getElementsByTagName('ul')[0]
          b.classList.add('active')
        }
        liTags[i].onmouseleave = function(e) {
          let li = e.currentTarget
          let b = li.getElementsByTagName('ul')[0]
          b.classList.remove('active')
        }
      }

      let aTags = document.querySelectorAll('.topNavBar nav > ul > li > a')
      for (let i = 0; i < aTags.length; i++) {
        aTags[i].onclick = function(e) {
          e.preventDefault()
          let section = document.querySelector(e.currentTarget.getAttribute('href'))
          
          let currentTop = window.scrollY
          let targetTop = section.offsetTop
          let n = 60
          let duration = 500 / n // 每次移动的时间
          let distance = (targetTop - currentTop) / n  // 每次移动的距离
          let i = 0
          let id = setInterval(() => {
            if (i == n) {
              window.clearInterval(id)
              return
            }
            i++
            window.scrollTo(0, currentTop + distance * i)
          }, duration)
        }
      }
    </script>
  </body>
</html>